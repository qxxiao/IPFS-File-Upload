{"version":3,"sources":["header.tsx","uploader.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["MyHeader","className","src","alt","href","target","rel","InputFile","useState","fileList","setFileList","uploading","setUploading","filename","useRef","useEffect","length","current","name","props","onRemove","file","list","index","indexOf","newFileList","slice","splice","beforeUpload","style","width","addonBefore","placeholder","allowClear","size","icon","UploadOutlined","type","onClick","disabled","loading","TextTip","cid","url1","setUrl1","url2","setUrl2","id","white-space","Uploader","percent","status","showInfo","left","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0abbb13c.chunk.js","sourcesContent":["import React from 'react';\nimport './header.css';\n\nfunction MyHeader() {\n\treturn (\n\t\t<div className=\"header-div\">\n\t\t\t<div className=\"header-img\">\n\t\t\t\t<img src={'https://gitee.com/qxxiao_hust/pic/raw/master/img/20211029144222.png'} alt=\"logo\" />\n\t\t\t</div>\n\t\t\t<div>IPFS-File-Uploader</div>\n\t\t\t<div className=\"header-link\">\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"link\"\n\t\t\t\t\thref=\"https://github.com/qxxiao/IPFS-File-Upload\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tGitHub\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MyHeader;\n","import { Input, Button, Upload, message, Progress } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport './uploader.css';\nimport { useEffect, useRef, useState } from 'react';\n// for web3 storage\nimport { Web3Storage } from 'web3.storage';\nimport { UploadFile } from 'antd/lib/upload/interface';\n\n// 浏览文件以及上传按钮组合组件\nfunction InputFile(this: any) {\n\tconst [fileList, setFileList] = useState<UploadFile<any>[]>([]);\n\tconst [uploading, setUploading] = useState<boolean>(false);\n\n\tlet filename = useRef('');\n\tuseEffect(() => {\n\t\tif (fileList.length > 0) filename.current = fileList[0].name;\n\t}, [fileList]);\n\n\tconst props = {\n\t\tonRemove: (file: any): void => {\n\t\t\tsetFileList(list => {\n\t\t\t\tconst index = list.indexOf(file);\n\t\t\t\tconst newFileList = list.slice();\n\t\t\t\tnewFileList.splice(index, 1);\n\t\t\t\treturn newFileList;\n\t\t\t});\n\t\t},\n\t\tbeforeUpload: (file: any): boolean => {\n\t\t\tsetFileList(list => {\n\t\t\t\t// return [...list, file];\n\t\t\t\treturn [file]; //最多一个\n\t\t\t});\n\n\t\t\treturn false;\n\t\t},\n\t\tfileList,\n\t};\n\n\tconst props2 = {\n\t\tprogress: {\n\t\t\tstrokeColor: {\n\t\t\t\t'0%': '#108ee9',\n\t\t\t\t'100%': '#87d068',\n\t\t\t},\n\t\t\tstrokeWidth: 3,\n\t\t\tformat: (percent: any) => `${parseFloat(percent.toFixed(2))}%`,\n\t\t},\n\t};\n\n\tconst handleUpload = () => {\n\t\t// const formData = new FormData();\n\t\t// fileList.forEach(file => {\n\t\t// \treturn formData.append('files[]', file);\n\t\t// });\n\n\t\tsetUploading(true);\n\t\t// const client = new Web3Storage({\n\t\t// \ttoken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDQ0RTFDMzZkREM5NjI2MjY1ZWM5OWJhNkUwYzZmZDE0Y0I3MjA2NkUiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2MzU1NzM4NzIyNTYsIm5hbWUiOiJ1cGxvYWRlciJ9.qJ4Q_9IaazEYoy9qey5dCVCGw7O315kbbODobUnBW1I',\n\t\t// });\n\t\t// const cid = client.put(fileList);\n\t};\n\n\treturn (\n\t\t<div className=\"inputFile1\">\n\t\t\t<div className=\"input1\" style={{ width: '65%' }}>\n\t\t\t\t<Input\n\t\t\t\t\taddonBefore=\"http://\"\n\t\t\t\t\tplaceholder=\"上传的文件地址\"\n\t\t\t\t\tallowClear\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t// value={filename.current}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"upload1\" style={{ width: '85px' }}>\n\t\t\t\t<Upload {...props}>\n\t\t\t\t\t<Button size=\"large\" style={{}}>\n\t\t\t\t\t\tBrowse\n\t\t\t\t\t</Button>\n\t\t\t\t</Upload>\n\t\t\t</div>\n\t\t\t<div className=\"button1\" style={{ width: '120px' }}>\n\t\t\t\t<Button\n\t\t\t\t\ticon={<UploadOutlined />}\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tonClick={handleUpload}\n\t\t\t\t\tdisabled={fileList.length === 0}\n\t\t\t\t\tloading={uploading}\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tstyle={{ width: '120px' }}\n\t\t\t\t>\n\t\t\t\t\t{uploading ? 'Uploading' : 'Upload'}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// 上传后文显示组件\nfunction TextTip() {\n\tconst [cid, setCid] = useState('QmNMYmN3VRjVmVz8GxJ8bxbff9nuvn34nqtQGSToyiog39');\n\tconst [url1, setUrl1] = useState('');\n\tconst [url2, setUrl2] = useState('');\n\n\tuseEffect(() => {\n\t\tsetUrl1(cid === '' ? '' : 'https://ipfs.io/ipfs/' + cid);\n\t\tsetUrl2(cid === '' ? '' : 'https://dweb.link/ipns/ipnso.com/?cid=' + cid);\n\t}, [cid]);\n\n\treturn (\n\t\t<div id=\"textTip-id\">\n\t\t\t<p>\n\t\t\t\tFile uploaded to:\n\t\t\t\t<br />\n\t\t\t\t{cid}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tYou Can access the file using public gateways now:\n\t\t\t\t<br />\n\t\t\t\t<a href={'https://ipfs.io/ipfs/' + cid} target=\"_blank\" rel=\"noreferrer\" white-space=\"nowrap\">\n\t\t\t\t\t{url1}\n\t\t\t\t</a>\n\t\t\t\t<br />\n\t\t\t\t<a\n\t\t\t\t\thref={'https://dweb.link/ipns/ipnso.com/?cid=' + cid}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\twhite-space=\"nowrap\"\n\t\t\t\t>\n\t\t\t\t\t{url2}\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\n// uploader总组件\n// 标题\n// 按钮\n// 文字显示\nfunction Uploader() {\n\treturn (\n\t\t<div className=\"uploader-div\">\n\t\t\t<div className=\"title\">\n\t\t\t\t<h1>IPFS File Uploader</h1>\n\t\t\t</div>\n\t\t\t<div className=\"inputFile-div\">\n\t\t\t\t<InputFile />\n\t\t\t</div>\n\t\t\t<div className=\"progress\">\n\t\t\t\t<Progress percent={0} status=\"normal\" showInfo={false} style={{ width: '48%', left: '-1%' }} />\n\t\t\t</div>\n\t\t\t<div className=\"textTip-div\">\n\t\t\t\t<TextTip />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Uploader;\n","import React from 'react';\nimport './App.css';\nimport MyHeader from './header';\nimport Uploader from './uploader';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t\t<MyHeader />\n\t\t\t\t<Uploader />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}